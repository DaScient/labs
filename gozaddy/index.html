<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>GoZaddy â€” Live AI RSS Summaries</title>
  <style>
    body {
      background: #0e1117;
      color: #d1dbe8;
      font-family: ui-monospace, monospace;
      margin: 0;
      padding: 10px;
    }
    h1 {
      font-size: 16px;
      margin-bottom: 12px;
      color: #4ee04e;
    }
    #output {
      background: #0c111a;
      border: 1px solid #222a3c;
      border-radius: 6px;
      padding: 10px;
      white-space: pre-wrap;
      line-height: 1.4;
      font-size: 14px;
      overflow-y: auto;
      max-height: 90vh;
    }
    .divider {
      margin: 12px 0;
      border-top: 1px dashed #444;
    }
  </style>
</head>
<body>
  <h1>GoZaddy â€” Live AI RSS Summaries</h1>
  <div id="output">[Starting upâ€¦ waiting for feeds]</div>

  <script>
    const output = document.getElementById("output");

    function log(text) {
      output.textContent += "\n" + text;
      output.scrollTop = output.scrollHeight;
    }

    async function fetchFeed(url) {
      try {
        const resp = await fetch(url);
        if (!resp.ok) throw new Error(resp.status);
        return await resp.text();
      } catch (e) {
        log(`[Feed error] ${url}: ${e}`);
        return null;
      }
    }

    function parseFeed(xmlTxt) {
      const doc = new DOMParser().parseFromString(xmlTxt, "application/xml");
      let items = [...doc.querySelectorAll("item")];
      if (!items.length) items = [...doc.querySelectorAll("entry")];
      return items.map(n => ({
        title: (n.querySelector("title")?.textContent || "").trim(),
        link: (n.querySelector("link")?.getAttribute("href") || n.querySelector("link")?.textContent || "").trim(),
        guid: (n.querySelector("guid")?.textContent || n.querySelector("id")?.textContent || "").trim(),
        published: (n.querySelector("pubDate")?.textContent || n.querySelector("updated")?.textContent || "").trim()
      }));
    }

    async function pollOnce() {
      const feeds = [
        "https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml",
        "https://feeds.washingtonpost.com/rss/national",
        "https://www.forbes.com/most-popular/feed/"
      ];
      log(`[${new Date().toLocaleTimeString()}] Checking feedsâ€¦`);

      for (const f of feeds) {
        const xml = await fetchFeed(f);
        if (!xml) continue;
        const items = parseFeed(xml).slice(0, 2); // just first 2 items per feed
        for (const it of items) {
          log("\n----------------------------------------");
          log(`TITLE: ${it.title}`);
          log(`LINK: ${it.link}`);
          log(`PUBLISHED: ${it.published}`);
          log("\nSUMMARY (AI-mockup):");
          // ðŸš¨ Placeholder text â€” replace with API call if you want real AI
          log(`- Key insight #1 about "${it.title}"`);
          log(`- Key insight #2`);
          log(`\nACTION CHECKLIST:\n- Do X\n- Do Y\n`);
          log(`SEO KEYWORDS: example; placeholder; keywords`);
        }
      }
    }

    // Start polling every 3 minutes
    pollOnce();
    setInterval(pollOnce, 180000);
  </script>
</body>
</html>
